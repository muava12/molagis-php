<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>
      {% block title %}
        Catering Molagis
      {% endblock %}
    </title>
    <!-- Deskripsi Umum untuk SEO -->
    <meta name="description" content="Catering Molagis menyediakan layanan catering berkualitas untuk berbagai acara dengan menu lezat dan harga terjangkau." />

    <!-- Open Graph Metadata untuk Media Sosial -->
    <meta property="og:title" content="{% block og_title %}{% endblock %}" />
    <meta property="og:description" content="Nikmati layanan catering terbaik dari Catering Molagis untuk acara spesial Anda. Menu lezat, harga terjangkau!" />
    <meta property="og:image" content="/images/og-image.png" />
    <meta property="og:image:alt" content="Catering Molagis - Menu Lezat untuk Acara Anda" />
    <meta property="og:url" content="{{ app.request.uri }}" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Catering Molagis" />

    <!-- Twitter Card Metadata -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="{% block twitter_title %}{% endblock %}" />
    <meta name="twitter:description" content="Nikmati layanan catering terbaik dari Catering Molagis untuk acara spesial Anda. Menu lezat, harga terjangkau!" />
    <meta name="twitter:image" content="/images/og-image.png" />
    <meta name="twitter:image:alt" content="Catering Molagis - Menu Lezat untuk Acara Anda" />

    <link rel="icon" href="/images/fruit.png" type="image/png" />
    <link rel="stylesheet" href="/css/tabler.min.css" />
    <link rel="stylesheet" href="/css/app/tabler.custom.css">
    <link rel="stylesheet" href="/css/app/connection-indicator.css?v={{ 'now'|date('U') }}">
    <link rel="stylesheet" href="/css/app/blur.css?v={{ 'now'|date('U') }}">
    {% block stylesheets %}
      {# CSS spesifik untuk halaman ini #}
    {% endblock %}
    <script>
      const savedTheme = localStorage.getItem('theme') || 'dark';
      document.documentElement.setAttribute('data-bs-theme', savedTheme);
    </script>
    <script>
      // Inline script to prevent number flickering on load
      (function() {
        try {
          if (localStorage.getItem('numbersBlurred') === 'true') {
            const style = document.createElement('style');
            style.id = 'blur-fix-style';
            style.textContent = `
              .blur-target {
                filter: blur(4px) !important;
                color: transparent !important;
                user-select: none !important;
                transition: none !important;
              }
            `;
            document.head.appendChild(style);
          }
        } catch (e) {
          console.error('Could not apply initial blur state', e);
        }
      })();
    </script>
  </head>
  <body>
    <div class="page">
      <div id="connection-indicator" class="connection-indicator"></div>
      {% include 'header.html.twig' with { business_name: business_name, couriers: couriers } %}
      <div class="page-wrapper">
        {% block content %}
          {# Konten halaman spesifik akan diisi di sini #}
        {% endblock %}
        {% include 'footer.html.twig' %}
      </div>
    </div>
    {% include 'partials/toast.html.twig' %}
    {% include 'partials/batch-delete-toast.html.twig' %}

    <script src="/js/tabler.min.js?v=1.2.0" defer></script>

    <!-- App-wide Scripts -->
    <script type="module" src="/js/app/theme.js"></script>
    <script type="module" src="/js/app/header.js"></script>
    <script src="/js/app/blur-numbers.js" type="module"></script>
    <script src="/js/app/offline-handler.js?v={{ 'now'|date('U') }}" type="module"></script>
    <script src="/js/app/batch-delete.js?v={{ 'now'|date('U') }}" type="module"></script>
    
    {% block javascripts %}{% endblock %}
  </body>
</html>