{# templates/order-confirmation.html.twig #}

<!-- Modal Confirmation -->
<div class="modal modal-blur fade" id="orderConfirmationModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Konfirmasi Pesanan</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <!-- Customer Information -->
                <div class="mb-3">
                    <p class="mb-1 fw-bold fs-4" id="confirmation-customer-name"></p>
                    <p class="text-muted" id="confirmation-customer-address"></p>
                </div>

                <!-- Order and Delivery Dates -->
                <div class="mb-3">
                    <div class="row">
                        <div class="col">
                            <p><strong>Tanggal Pesanan:</strong> <span id="confirmation-order-date"></span></p>
                        </div>
                    </div>
                    <p><strong>Tanggal Pengiriman:</strong></p>
                    <div class="badge-list" id="confirmation-delivery-dates">
                        <!-- Tanggal akan diisi oleh JS -->
                    </div>
                    <div class="collapse" id="moreDates">
                        <div class="badge-list mt-2" id="confirmation-more-dates">
                            <!-- Tanggal tambahan akan diisi oleh JS -->
                        </div>
                    </div>
                </div>

                <!-- Order Details -->
                <div class="card mb-3">
                    <div class="card-body p-3" id="confirmation-order-details">
                        <!-- Item pesanan akan diisi oleh JS -->
                    </div>
                </div>

                <!-- Additional Information (Courier and Payment Method) -->
                <div class="mb-3">
                    <div class="row g-2">
                        <div class="col-6">
                            <div class="card">
                                <div class="card-body p-2 d-flex align-items-center">
                                    <span class="avatar avatar-sm me-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-truck" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                            <circle cx="7" cy="17" r="2" />
                                            <circle cx="17" cy="17" r="2" />
                                            <path d="M5 17h-2v-11a1 1 0 0 1 1 -1h9v12m-4 0h6m4 0h2v-6h-8m0 -5h5l3 5" />
                                        </svg>
                                    </span>
                                    <div>
                                        <h6 class="text-muted fw-bold mb-0">Pengiriman</h6>
                                        <p class="text-body mb-0" id="confirmation-courier"></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="card">
                                <div class="card-body p-2 d-flex align-items-center">
                                    <span class="avatar avatar-sm me-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-credit-card" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                                            <rect x="3" y="5" width="18" height="14" rx="3" />
                                            <line x1="3" y1="10" x2="21" y2="10" />
                                            <line x1="7" y1="15" x2="7.01" y2="15" />
                                            <line x1="11" y1="15" x2="13" y2="15" />
                                        </svg>
                                    </span>
                                    <div>
                                        <h6 class="text-muted fw-bold mb-0">Pembayaran</h6>
                                        <p class="text-body mb-0" id="confirmation-payment-method"></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Notes (Dynamic) -->
                <div class="row g-2" id="confirmation-notes">
                    <!-- Catatan akan diisi oleh JS -->
                </div>
            </div>
            <div class="modal-footer d-flex justify-content-between">
                <button type="button" class="btn" data-bs-dismiss="modal">Batalkan</button>
                <button type="button" class="btn btn-primary" id="confirmOrder">Simpan</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal Success -->
<div class="modal fade" id="successModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            <div class="modal-status bg-success"></div>
            <div class="modal-body text-center py-4">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon mb-2 text-green icon-lg">
                    <path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path>
                    <path d="M9 12l2 2l4 -4"></path>
                </svg>
                <h3>Pesanan Terkonfirmasi</h3>
                <div class="text-secondary" id="success-message">
                    Pesanan Anda sebesar <span id="success-total"></span> telah berhasil dikonfirmasi. Detail telah dikirim ke kontak Anda.
                </div>
            </div>
            <div class="modal-footer">
                <div class="w-100">
                    <div class="row">
                        <div class="col">
                            <a href="#" class="btn btn-outline-secondary w-100" data-bs-dismiss="modal">Input Pesanan Lagi</a>
                        </div>
                        <div class="col">
                            <a href="#" class="btn btn-success w-100" data-bs-dismiss="modal">Tutup</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>