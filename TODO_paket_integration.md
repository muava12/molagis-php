# TODO: Paket Management Feature Integration

This document outlines the necessary steps to fully integrate the new Paket (Package) management feature.

## 1. Dependency Injection (DI) Container Setup

Ensure the `PaketService` is correctly registered with your application's DI container and can be injected into `SettingsController`.

- **Service to Register:** `Molagis\Features\Paket\PaketService`
- **Dependencies:** `PaketService` depends on `Molagis\Shared\SupabaseClient`.
- **Controller Update:** `SettingsController`'s constructor has been updated to accept `PaketService`. Verify that the DI container is correctly providing this new dependency.

**Example (conceptual):**
```php
// In your DI configuration file (e.g., services.php, bootstrap.php):
// $container->set(Molagis\Features\Paket\PaketService::class)
//     ->addArgument(Molagis\Shared\SupabaseClient::class);

// Ensure SettingsController is also resolved with PaketService:
// $container->set(Molagis\Features\Settings\SettingsController::class)
//     ->addArguments([
//         /* other dependencies like SettingsService, SupabaseService, Twig_Environment */,
//         Molagis\Features\Paket\PaketService::class
//     ]);
```
*Adjust the above example based on your specific DI container's syntax (e.g., PHP-DI, Symfony DI, Laravel Service Container).*

## 2. API Route Definitions

Define the following API routes in your routing configuration file (e.g., `routes/api.php`, `routes.php`). Ensure they are mapped to the correct methods in `Molagis\Features\Settings\SettingsController`.

| Method   | URI                        | Controller Action        | Notes                                     |
|----------|----------------------------|--------------------------|-------------------------------------------|
| `GET`    | `/api/pakets`              | `listPakets`             | Lists all packages.                       |
| `GET`    | `/api/paket/{id}`          | `getPaket`               | Gets a single package by ID.              |
| `POST`   | `/api/paket/add`           | `addPaket`               | Adds a new package.                       |
| `POST`   | `/api/paket/{id}/update`   | `updatePaket`            | Updates an existing package.              |
| `DELETE` | `/api/paket/{id}/delete`   | `deletePaket`            | Deletes a package.                        |
| `POST`   | `/api/paket/order/update`  | `updatePaketOrder`       | Updates display order of packages.        |

**Example (conceptual, for a framework like Slim):**
```php
// $app->get('/api/pakets', \Molagis\Features\Settings\SettingsController::class . ':listPakets');
// $app->get('/api/paket/{id}', \Molagis\Features\Settings\SettingsController::class . ':getPaket');
// $app->post('/api/paket/add', \Molagis\Features\Settings\SettingsController::class . ':addPaket');
// $app->post('/api/paket/{id}/update', \Molagis\Features\Settings\SettingsController::class . ':updatePaket');
// $app->delete('/api/paket/{id}/delete', \Molagis\Features\Settings\SettingsController::class . ':deletePaket');
// $app->post('/api/paket/order/update', \Molagis\Features\Settings\SettingsController::class . ':updatePaketOrder');
```
*Ensure these routes are protected by appropriate authentication/authorization middleware if applicable, consistent with other API routes.*

---
*This file was generated by an automated tool. Please review and implement these steps in your project.*
